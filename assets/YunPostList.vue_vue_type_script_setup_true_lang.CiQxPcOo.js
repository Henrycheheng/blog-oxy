import{i as N,l as R,_ as V,g as j,m as B}from"./app.MTKPrG9B.js";import"./chunks/dayjs.Byk5cVHE.js";import{a as M}from"./chunks/vue-router.5oi-MqCx.js";import{k as i,p as S,P as a,N as w,R as l,u as o,a3 as b,F as C,$ as T,M as I,X as x,O as t,S as p,W as E,V as z,L as F,b as L,Z as H,C as $}from"./framework.ZXDN0mPO.js";import{b as O,_ as A,a as D}from"./YunPostMeta.vue_vue_type_style_index_0_lang.B_R_Br1E.js";import{u as G}from"./post.jei6d4rt.js";import{u as W}from"./chunks/vue-i18n.CE3NdIHS.js";function X(f){const _=M(),s=i(()=>Number.parseInt(_.params.page||"1")),n=i(()=>Math.ceil(f.total/f.pageSize)),m=i(()=>s.value===1||s.value===n.value?3:2);function h(r){return r===1||r===n.value?!0:r>s.value-m.value&&r<s.value+m.value}function c(r){return r===1?"/":`/page/${r}`}const d=i(()=>c(s.value-1)),v=i(()=>c(s.value+1)),e=i(()=>s.value>1),k=i(()=>s.value<n.value);return{curPage:s,totalPages:n,showPage:h,surLen:m,getTo:c,prevTo:d,nextTo:v,showPrev:e,showNext:k}}const Z={class:"pagination"},q=S({__name:"YunPagination",props:{total:{},pageSize:{}},setup(f,{expose:_}){const s=f,{curPage:n,totalPages:m,showPage:h,getTo:c,surLen:d,prevTo:v,nextTo:e,showPrev:k,showNext:r}=X({total:s.total,pageSize:s.pageSize});return _({curPage:n}),(P,g)=>{const y=I("RouterLink");return t(),a("nav",Z,[o(k)?(t(),w(y,{key:0,class:"page-number",to:o(v),"aria-label":"prev"},{default:b(()=>g[0]||(g[0]=[p("div",{"i-ri-arrow-left-s-line":""},null,-1)])),_:1,__:[0]},8,["to"])):l("v-if",!0),(t(!0),a(C,null,T(o(m),u=>(t(),a(C,null,[o(h)(u)?(t(),w(y,{key:u,class:x(["page-number",o(n)===u&&"active"]),to:o(c)(u)},{default:b(()=>[E(z(u),1)]),_:2},1032,["class","to"])):u===o(n)-o(d)?(t(),a("span",{key:`prev-space-${u}`,class:"space",disabled:""}," ... ")):u===o(n)+o(d)?(t(),a("span",{key:`next-space-${u}`,class:"space",disabled:""}," ... ")):l("v-if",!0)],64))),256)),o(r)?(t(),w(y,{key:1,class:"page-number",to:o(e),"aria-label":"next"},{default:b(()=>g[1]||(g[1]=[p("div",{"i-ri-arrow-right-s-line":""},null,-1)])),_:1,__:[1]},8,["to"])):l("v-if",!0)])}}}),J={},K={w:"full",h:"10",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};function Q(f,_){return t(),a("div",K)}const U=F(J,[["render",Q]]),ee={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},te=["src","alt"],se={class:"flex-center title text-2xl",text:"center",font:"serif black"},oe={flex:"~ grow col",w:"full",justify:"center",items:"center"},ae={key:0,py:"1"},ne=["innerHTML"],re={key:2,m:"b-5"},le=["href"],ie={w:"full",class:"yun-card-actions flex justify-between px-6","min-h":"10",text:"sm"},ce={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},ue=S({__name:"YunPostCard",props:{post:{}},setup(f){const _=f,{t:s}=W(),{$tO:n}=N(),{icon:m,styles:h,color:c}=G(_.post.type),d=L("bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),v=i(()=>c?"":_.post.postTitleClass||d.value);return(e,k)=>{const r=V,P=O,g=U,y=A,u=D,Y=R;return t(),w(Y,{class:x(["w-full",e.post.cover?"post-card-image":"post-card"]),m:"auto",overflow:"hidden",style:H(o(h))},{default:b(()=>[p("div",ee,[e.post.cover?(t(),a("img",{key:0,src:e.post.cover,alt:o(s)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,te)):l("v-if",!0),p("div",{class:x(["flex flex-col items-center relative px-6",e.post.cover&&"h-54"]),w:"full"},[$(r,{class:x(["post-title-link cursor-pointer",v.value]),to:e.post.path||"",m:"t-3"},{default:b(()=>[p("div",se,[e.post.type?(t(),a("div",{key:0,class:x(["inline-flex",o(m)]),m:"r-1"},null,2)):l("v-if",!0),p("span",null,z(o(n)(e.post.title)),1)])]),_:1},8,["to","class"]),$(P,{frontmatter:e.post},null,8,["frontmatter"]),p("div",oe,[e.post.excerpt_type==="text"?(t(),a("div",ae)):l("v-if",!0),e.post.excerpt?(t(),a("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-6 lt-sm:4 y-2",innerHTML:e.post.excerpt},null,8,ne)):(t(),a("div",re))]),l(' <div m="b-5" /> '),e.post.excerpt?(t(),w(g,{key:0})):l("v-if",!0),e.post.url?(t(),a("a",{key:1,href:e.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},z(o(s)("post.view_link")),9,le)):l("v-if",!0)],2)]),l(" always show "),p("div",ie,[p("div",ce,[$(y,{m:"l-1",categories:e.post.categories},null,8,["categories"])]),e.post.tags?(t(),w(u,{key:0,m:"1",tags:e.post.tags},null,8,["tags"])):l("v-if",!0)])]),_:1},8,["class","style"])}}}),pe={flex:"~ col",class:"yun-post-list gap-4",w:"full",p:"x-4 lt-sm:0"},fe={key:0,py2:"",op50:"","text-center":""},we=S({__name:"YunPostList",props:{type:{},posts:{}},setup(f){const _=f,s=L(),n=i(()=>s.value?.curPage||1),m=j(),h=B(),c=i(()=>h.value.pageSize),d=i(()=>(_.posts||m.postList).filter(e=>!e.hide)),v=i(()=>d.value.slice((n.value-1)*c.value,n.value*c.value));return(e,k)=>{const r=ue,P=q;return t(),a(C,null,[p("div",pe,[v.value.length?l("v-if",!0):(t(),a("div",fe," 博主还什么都没写哦～ ")),(t(!0),a(C,null,T(v.value,(g,y)=>(t(),w(r,{key:y,post:g},null,8,["post"]))),128))]),$(P,{ref_key:"paginationRef",ref:s,class:"mt-5",total:d.value.length,"page-size":c.value},null,8,["total","page-size"])],64)}}});export{we as _};
